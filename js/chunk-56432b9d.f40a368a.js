(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56432b9d"],{5616:function(e){e.exports={bgImg:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575016631730&di=af4ad0a2df9eec815034153e061e7813&imgtype=0&src=http%3A%2F%2Fwww.bbra.cn%2FUploadfiles%2Fimgs%2F2015%2F11%2F18%2Fjian2%2F001.jpg",helloTitle:"adminTitle",webIco:"https://cloud.tencent.com/favicon.ico",themeBackgroundColor:"#304156",themeTextColor:"#BFCBD9",iconUnifiedStyleColor:"#304156",iconUnifiedStyleFontSize:28,menuCollapse:!1,languageOpt:"zh-CN",languageList:{"zh-CN":"中文",en:"English"},asideVisible:!0,homeQuickNav:!0,menuUnique:!0,rightClickMenu:!1,drawerVisible:!1,drawerDirection:"rtl",configThemeDisabled:!1,groupNumbers:"23113592",themePresetList:[{themeBackgroundColor:"#304156",themeTextColor:"#BFCBD9"}],helloMenuList:[{icon:"el-icon-sugar",title:"test",route:"test"},{icon:"el-icon-switch-button",title:"signOut",route:"login"}],calculatingPeriodList:[{text:"realTime",value:0},{text:"day",value:96},{text:"month",value:128}],computationalTypeList:[{text:"organization",value:1},{text:"hous",value:2},{text:"wattHourMeter",value:3}],computationalModelList:[{text:"equipartition",value:0},{text:"proportion",value:1},{text:"area",value:2},{text:"electricity",value:3},{text:"weight",value:4}],byElecCalculatingGradeList:[{text:"byDayElec",value:1},{text:"byMonthElec",value:2}],equipmentList:[{text:"wattHourMeter",value:64},{text:"waterMeter",value:32768}],wattMeterList:[{text:"wattHourMeter",value:4},{text:"peakValleyMeter",value:8}],lineList:[{text:"offLine",value:0},{text:"onLine",value:1}],shareTreeNodeList:[{text:"ordWatMeter",value:1},{text:"airMeter",value:2},{text:"elevMeter",value:3},{text:"lighMeter",value:4}],shareModelList:[{text:["sumMeter","sonMeter"],label:"sumMeterSonMeter",value:1},{text:["boothMeter"],label:"boothMeter",value:2}],peakValleyList:[{text:["tip"],value:1},{text:["peak"],value:2},{text:["flat"],value:3},{text:["valley"],value:4}],liquidationStateList:[{text:"unPayment",value:0},{text:"invalid",value:1},{text:"okPayment",value:2},{text:"unLiquidation",value:3},{text:"okLiquidation",value:4},{text:"all",value:-1}],rechargeModeList:[{text:"underTheLineRecharge",value:0},{text:"weChatRecharge",value:1},{text:"alipayRecharge",value:2},{text:"systemRecharge",value:3},{text:"shortRent",value:4},{text:"ABCRecharge",value:5},{text:"ABCWeChatRecharge",value:6},{text:"all",value:-1}],bankAuditStateList:[{text:"waitAuthSign",value:0},{text:"waitBankAudit",value:1},{text:"okBankAudit",value:2},{text:"unBankAudit",value:3},{text:"all",value:-1}],subMerchantsTypeList:[{text:"naturalPerson",value:1},{text:"enterpriseMerchant",value:2},{text:"IndividualBusiness",value:3}],personInChargeCertificatesTypeList:[{text:"personId",value:"I"},{text:"passport",value:"P"},{text:"certificateOfficers",value:"G"},{text:"otherDocuments",value:"U"}],enterpriseCertificatesTypeList:[{text:"businessLicense",value:"U"},{text:"organizationCodeCertificate",value:"Y"},{text:"unifiedSocialCreditCode",value:"V"}],receiveAccountTypeList:[{text:"debitCard",value:"401"},{text:"rightCard",value:"601"}],accountOpeningStepsList:[{text:"subMerchantsOpenApply",value:1},{text:"subMerchantsOpenConfirm",value:2}],test:[{text:"all",value:-1}],paymentModelList:[{text:"postPay",value:0},{text:"prePay",value:1}]}},b301:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainTag"},[e.otherInfo.bgImg?a("img",{staticClass:"w999 h997",staticStyle:{"object-fit":"cover"},attrs:{src:e.otherInfo.bgImg}}):e._e(),a("el-dialog",{attrs:{visible:!0,"show-close":!1,top:"30vh",width:e.dialogWidth,"custom-class":"transparent02"}},[a("el-row",{attrs:{slot:"title"},slot:"title"},[a("el-col",{staticStyle:{color:"#eee"},attrs:{xs:24,sm:24,md:16,lg:16,xl:18}},[a("div",{staticClass:"largeTitle",on:{dblclick:e.hiddRefresh}},[e._v(e._s(e.language[e.otherInfo.helloTitle]))])]),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"alnrit",attrs:{xs:24,sm:24,md:8,lg:8,xl:6}},[a("SelectLanguage")],1)],1),a("el-form",{ref:"ruleForm",staticClass:"alncnt",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-autocomplete",{staticClass:"width80",attrs:{size:"medium",maxlength:18,"prefix-icon":"el-icon-user","fetch-suggestions":e.querySearch},on:{select:e.handleSelect},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{staticClass:"width80",attrs:{type:"password",size:"medium",maxlength:20,"show-password":"","prefix-icon":"el-icon-tickets"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("el-form-item",{staticClass:"alncnt"},[a("mdb",{staticClass:"width80",attrs:{size:"medium",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" "+e._s(e.language.signIn))])],1)],1)],1)],1)},i=[],s=(a("a481"),a("96cf"),a("3b8d")),l=(a("6762"),a("2fdb"),a("d073")),n={mixins:[a("a496").default],name:"login",data:function(){return{ruleForm:{username:null,password:null},historicalAccount:{}}},components:{SelectLanguage:function(){return a.e("chunk-3d13b4ce").then(a.bind(null,"31be"))}},props:{},computed:{rules:function(){var e={username:[{required:!0,message:"username",trigger:"blur"}],password:[{required:!0,message:"password",trigger:"blur"}]};return e},dialogWidth:function(){return this.otherInfo.menuCollapse?"75%":"25%"}},watch:{},methods:{handleSelect:function(e){this.ruleForm={username:e.value,password:e.password}},querySearch:function(e,t){var a=this,r=[];if(e)for(var i in a.historicalAccount)i.includes(e)&&r.push({password:this.$avoid(a.historicalAccount[i]),value:i});else for(var s in a.historicalAccount)r.push({password:this.$avoid(a.historicalAccount[s]),value:s});t(r)},hiddRefresh:function(){Object(l["b"])(),history.go(0)},resizeHandler:function(){var e=document.body.clientWidth;e<=963?this.setOtherInfo({menuCollapse:!0}):this.setOtherInfo({menuCollapse:!1})},setWebConfig:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=a("5616"),this.setOtherInfo(t),this.resizeHandler();case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.login()})},login:function(){var e=this;this.post("/user/login",{username:e.ruleForm.username,password:e.ruleForm.password}).then(function(t){if(200==t.code){var a=t.data;e.$set(e.historicalAccount,e.ruleForm.username,e.ruleForm.password),e.setUserInfo({userName:a.username,userId:a.userid,userToken:a.token,userRole:a.userrole}),e.$router.replace({name:"test"})}})}},mounted:function(){this.ruleForm=Object(l["d"])("loginForm"),this.historicalAccount=Object(l["d"])("historicalAccount"),this.setWebConfig(),window.addEventListener("resize",this.resizeHandler)},beforeDestroy:function(){var e=this;window.removeEventListener("resize",this.resizeHandler),Object(l["e"])("userMemory",{userInfo:e.userInfo,otherInfo:e.otherInfo,language:e.language}),Object(l["e"])("loginForm",e.ruleForm),Object(l["e"])("historicalAccount",e.historicalAccount)}},o=n,u=a("2877"),c=Object(u["a"])(o,r,i,!1,null,null,null);t["default"]=c.exports}}]);