(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d224900"],{e153:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"w100 h100 alncnt"},[n("el-tooltip",{staticClass:"bttooltip",attrs:{placement:"top-end",disabled:!(e.TableConfig.multiple||e.TableConfig.single)||e.thisNotShow}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.language.tableSelectTooltip)+"\n            "),n("br"),n("mdb",{attrs:{type:"text"},on:{click:function(t){e.thisNotShow=!0}}},[e._v(e._s(e.language.thisNotShow))]),n("mdb",{attrs:{type:"text"},on:{click:e.tableNotShowFun}},[e._v(e._s(e.language.tableNotShow))])],1),n("el-table",{ref:"meltable",attrs:{data:e.tableData,border:e.TableConfig.border,stripe:e.TableConfig.stripe,"highlight-current-row":e.TableConfig.highlight,height:e.TableConfig.disabled?"99.7%":"95%","header-cell-style":e.headerCellStyle,"cell-style":e.cellStyle},on:{"cell-dblclick":e.cellDblClick,select:e.select,"row-dblclick":e.rowDb,"selection-change":e.selectionChange,"expand-change":e.expandChange}},[e.TableConfig.multiple||e.TableConfig.single?n("el-table-column",{attrs:{type:"selection",width:"50",fixed:""}}):e._e(),n("el-table-column",{attrs:{type:"index",width:"60",align:"center",fixed:""}}),e._l(e.handlerDataConfig.table,function(t,a){return n("el-table-column",{key:a,attrs:{align:t.align,width:t.width*e.widthScale,prop:t.prop,label:t.label?t.label:t.prop,sortable:t.sortable,fixed:t.fixed},scopedSlots:e._u([{key:"header",fn:function(a){return[n("span",{class:t.class?t.class:"tableClass"},[e._v(e._s(a.column.label))])]}},{key:"default",fn:function(a){return[t.json?n("pre",{class:t.class?t.class:"tableClass"},[e._v(e._s(e.dataFormat(t.format,a.row,a.column)))]):n("span",{class:t.class?t.class:"tableClass",domProps:{innerHTML:e._s(e.dataFormat(t.format,a.row,a.column))}})]}}],null,!0)})}),e.handlerDataConfig.expand.length>0?n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"w100",attrs:{inline:"","label-width":"40%"}},e._l(e.handlerDataConfig.expand,function(a,l){return n("fragment",{key:l},[n("el-form-item",{staticStyle:{width:"32%"}},[n("span",{class:a.class?a.class:"tableClass",attrs:{slot:"label"},slot:"label"},[e._v(e._s(a.label?a.label:a.prop))]),n("span",{class:a.class?a.class:"tableClass",domProps:{innerHTML:e._s(e.dataFormat(a.format,t.row,{property:a.prop}))}})])],1)}),1)]}}],null,!1,1195984612)}):e._e(),e.TableConfig.button?n("fragment",[n("el-table-column",{attrs:{width:e.TableConfig.button.width*e.widthScale,fixed:e.TableConfig.button.fixed?e.TableConfig.button.fixed:"right",label:e.TableConfig.button.label?e.TableConfig.button.label:"*",align:e.TableConfig.button.align?e.TableConfig.button.align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.TableConfig.button.list,function(a,l){return n("fragment",{key:l},["show"==e.TableConfig.button.display?n("mdb",{directives:[{name:"show",rawName:"v-show",value:a.value.includes(t.row[e.TableConfig.button.value]),expression:"btitem.value.includes(scope.row[TableConfig.button.value])"}],staticClass:"margin1vw-r",attrs:{type:a.type},on:{click:function(n){return e.handleButton(t.row,a.text)}}},[e._v(e._s(a.text)+"\n                            ")]):n("mdb",{staticClass:"margin1vw-r",attrs:{disabled:!a.value.includes(t.row[e.TableConfig.button.value]),type:a.type},on:{click:function(n){return e.handleButton(t.row,a.text)}}},[e._v(e._s(a.text)+"\n                            ")])],1)})}}],null,!1,3937522346)})],1):e._e()],2)],1),e.TableConfig.disabled?e._e():n("el-pagination",{attrs:{small:e.otherInfo.menuCollapse,background:"","pager-count":7,layout:e.paginationLayout,total:e.PageConfig.total,"page-size":e.PageConfig.size,"current-page":e.page},on:{"current-change":e.clickPage,"size-change":e.sizeChange}})],1)},l=[],i=(n("ac6a"),n("d073")),o={mixins:[n("a496").default],name:"UiPageTable",data:function(){return{page:1,pageSize:10,widthScale:1,singleRow:{},thisNotShow:!1}},props:{tableData:{type:Array,default:function(){var e=[{test:"test"}];return e}},cellStyle:{default:function(){var e={padding:"2px 1px"};return e}},PageConfig:{type:Object,default:function(){var e={total:100,size:10};return e}},TableConfig:{type:Object,default:function(){var e={border:!0,stripe:!0,highlight:!0,disabled:!0};return e}},DataConfig:{type:Array,default:function(){var e=[{align:"right",width:"100",prop:"test",label:"test",sortable:!0,fixed:!0,format:!0,json:!0,type:"expand"}];return e}}},computed:{paginationLayout:function(){return 1==this.otherInfo.menuCollapse?"prev, pager, next":"total, prev, pager, next, jumper"},handlerDataConfig:function(){var e=[],t=[];return this.DataConfig.forEach(function(n){"expand"==n.type?t.push(n):e.push(n)}),{table:e,expand:t}}},watch:{"otherInfo.tableNotShow":{deep:!0,immediate:!0,handler:function(e,t){this.thisNotShow=e}},DataConfig:{deep:!0,handler:function(e,t){var n=this;this.$nextTick(function(){n.doLayout()})}},TableConfig:{deep:!0,handler:function(e,t){var n=this;this.$nextTick(function(){n.$refs.meltable.clearSelection(),n.doLayout(),n.handCss()})}}},methods:{widthScaleHandler:function(){if(this.otherInfo.tableSelfAW){var e=document.body.clientWidth,t=e/1920<=.6?.6:e/1920;this.widthScale=t}this.doLayout()},handCss:function(){this.TableConfig.single?Object(i["b"])(".el-checkbox__inner{ border-radius:7px;}"):Object(i["b"])(".el-checkbox__inner{ border-radius:2px;}")},dataFormat:function(e,t,n){var a=this,l=Object(i["e"])(t,n);return e?a.$dataFormat(l):l},headerCellStyle:function(e){if(this.handCss(),0==e.columnIndex&&this.TableConfig.single)return{pointerEvents:"none",opacity:.2}},refSelectAll:function(){this.$refs.meltable.toggleAllSelection()},expandChange:function(e){event.stopPropagation()},cellDblClick:function(e,t){this.$isTrue(t.property)&&this.$emit("cellDblClick",e,t)},rowDb:function(e,t,n){if(this.TableConfig.single)return this.$refs.meltable.clearSelection(),this.singleRow!=e?(this.$refs.meltable.toggleRowSelection(e),void(this.singleRow=e)):void(this.singleRow={});this.$refs.meltable.toggleRowSelection(e)},selectionChange:function(e){this.TableConfig.single?this.$emit("select",e.slice(-1)):this.$emit("select",e)},select:function(e,t){if(this.TableConfig.single)return this.$refs.meltable.clearSelection(),this.singleRow!=t?(this.$refs.meltable.toggleRowSelection(t),void(this.singleRow=t)):void(this.singleRow={})},clickPage:function(e){this.page=e,this.$emit("clickPage",e,this.pageSize)},sizeChange:function(e){this.pageSize=e,this.page=1,this.$emit("clickPage",this.page,e)},resetPage:function(){this.page=1,this.$emit("clickPage",this.page,this.pageSize)},handleButton:function(e,t){this.$emit("clickButton",e,t)},tableNotShowFun:function(){this.thisNotShow=!0,this.setOtherInfo({tableNotShow:!0})},doLayout:function(){var e=this;this.$nextTick(function(){e.$refs.meltable.doLayout()})}},mounted:function(){this.pageSize=this.PageConfig.size,window.addEventListener("resize",this.widthScaleHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.widthScaleHandler)},activated:function(){this.handCss(),this.doLayout()}},s=o,r=n("2877"),c=Object(r["a"])(s,a,l,!1,null,null,null);t["default"]=c.exports}}]);